# Environment variables for Bipolar API
# Copy this file to .env and fill in your values

# ===== REQUIRED =====
# Supabase configuration (required for API to function)
# Get these values from your Supabase project settings (https://app.supabase.com)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_KEY=your-service-role-key-here

# ===== OPTIONAL - CORS Configuration =====
# Comma-separated list of allowed origins for CORS
# Default: https://previso-fe.vercel.app,http://localhost:3000,http://localhost:5173
# Example: CORS_ORIGINS=https://myapp.com,https://staging.myapp.com,http://localhost:3000
# CORS_ORIGINS=

# ===== OPTIONAL - Performance & Caching =====
# Redis connection URL for caching predictions
# Format: redis://host:port or rediss://host:port (TLS)
# Default: None (caching disabled)
# REDIS_URL=redis://localhost:6379

# Cache time-to-live in seconds
# How long to keep predictions cached
# Default: 300 (5 minutes)
# Recommended: 300-1800 (5-30 minutes)
# CACHE_TTL_SECONDS=300

# Maximum inference timeout in seconds
# How long to wait for a single prediction before timing out
# Default: 30
# Recommended: 20-60 seconds
# INFERENCE_TIMEOUT_SECONDS=30

# ===== OPTIONAL - Rate Limiting =====
# Rate limiting helps prevent API abuse and ensures fair usage
# Format: "number/period" where period can be: second, minute, hour, day
# Examples: "10/minute", "100/hour", "1000/day"

# Default rate limit for all endpoints
# Default: 60/minute
# RATE_LIMIT_DEFAULT=60/minute

# Rate limit for prediction endpoints (/data/predictions/*, /data/prediction_of_day/*)
# Default: 10/minute
# RATE_LIMIT_PREDICTIONS=10/minute

# Rate limit for data access endpoints (/data/latest_checkin/*)
# Default: 30/minute
# RATE_LIMIT_DATA_ACCESS=30/minute

# Storage backend for rate limiting
# Default: memory:// (in-memory, not shared across workers)
# For production, use Redis: redis://host:port/db or rediss://host:port/db (TLS)
# Note: If using Redis for caching (REDIS_URL), use the same Redis instance
# RATE_LIMIT_STORAGE_URI=memory://

# ===== OPTIONAL - Future Features =====
# Enable background inference (not yet implemented)
# Default: false
# USE_BACKGROUND_INFERENCE=false

# Note: Never commit the actual .env file with real credentials
# This is a template file - copy it to .env and fill in your actual values
